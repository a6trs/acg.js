(function(w){var x=function(){function q(a,c,d){if(void 0===c){if(0===a.length)return;c=0;d=a.length-1}var b=c,e=d,g=a[c+d>>1][0],h;do{for(;a[b][0]<g;)b++;for(;a[e][0]>g;)e--;b<=e&&(h=a[b],a[b]=a[e],a[e]=h,b++,e--)}while(b<=e);b<d&&q(a,b,d);e>c&&q(a,c,e)}function k(a,c,d,b,e,g){q(a);var h=[],n,f,l,k,m,p;for(n=0;n<a.length;n++){l=a[n];k=!1;f=Math.random()*(e-b)+b;m={type:g,time:l[0],duration:f,text:l[1],colour:l[2]};p=l[0]+f;d&&(m.duration=f,p=l[0]+.3*f);for(f=0;f<h.length;f++)if(h[f]<l[0]){m.line=
f;h[f]=p;k=!0;break}k||(m.line=h.length,h.push(p));c.push(m)}}var g=[[],[],[]],u=10,v=25,r=2,t=3;return{addComment:function(a,c,d,b){g[b].push([a,c,d])},reset:function(){g=[[],[],[]]},getOperations:function(){var a=[];k(g[0],a,!0,u,v,0);k(g[1],a,!1,r,t,1);k(g[2],a,!1,r,t,2);return a},setDurRange:function(a,c,d,b){a&&(u=a);c&&c>=a&&(v=c);d&&(r=d);b&&b>=d&&(t=b)},CMT_SLIDING:0,CMT_TOP_STICKY:1,CMT_BOTTOM_STICKY:2}}();w.js233=x})(this);
